const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./users-uPsv3qgf.js","./vendor-ui-DwtnxsuI.js","./vendor-bootstrap-mtNt7MV9.js","./vendor-charts-mx47zOnq.js","./products-BfHo_jch.js","./orders-CkRgWqLP.js","./calendar-DQimwNyd.js","./settings-CpLeVJq2.js"])))=>i.map(i=>d[i]);
import{T as k,D as re,M as oe,O as ae,C as ce,a as le,b as de,P as ue}from"./vendor-bootstrap-mtNt7MV9.js";import{C as v,a as he,L as me,P as ge,b as pe,B as fe,A as be,p as we,c as ye,d as ve,e as Ae,f as Se,D as Ee}from"./vendor-charts-mx47zOnq.js";import{S as d,m as w}from"./vendor-ui-DwtnxsuI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const Ce="modulepreload",ke=function(c,e){return new URL(c,e).href},S={},f=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let m=function(l){return Promise.all(l.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const r=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=m(t.map(l=>{if(l=ke(l,n),l in S)return;S[l]=!0;const h=l.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(n)for(let p=r.length-1;p>=0;p--){const b=r[p];if(b.href===l&&(!h||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${g}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":Ce,h||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),h)return new Promise((p,b)=>{u.addEventListener("load",p),u.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return s.then(r=>{for(const o of r||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};class Te{constructor(){this.currentTheme=this.getStoredTheme()||this.getPreferredTheme(),this.themeToggleButtons=[],this.init()}init(){this.setTheme(this.currentTheme),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.getStoredTheme()||this.setTheme(e.matches?"dark":"light")})}getStoredTheme(){return localStorage.getItem("theme")}getPreferredTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}setTheme(e){document.documentElement.setAttribute("data-bs-theme",e),localStorage.setItem("theme",e),this.currentTheme=e,this.updateThemeIcons()}toggleTheme(){const e=this.currentTheme==="light"?"dark":"light";this.setTheme(e)}updateThemeIcons(){const e=document.querySelectorAll(".theme-icon-light"),t=document.querySelectorAll(".theme-icon-dark");this.currentTheme==="dark"?(e.forEach(n=>n.classList.add("d-none")),t.forEach(n=>n.classList.remove("d-none"))):(e.forEach(n=>n.classList.remove("d-none")),t.forEach(n=>n.classList.add("d-none")))}getCurrentTheme(){return this.currentTheme}}const xe="http://157.66.101.113:5000",Ie=()=>localStorage.getItem("token"),Le=()=>{const c=Ie();return c?{Authorization:`Bearer ${c}`}:{}};async function y(c,e={}){const t=await fetch(`${xe}${c}`,{headers:{"Content-Type":"application/json",...Le(),...e.headers},credentials:"include",...e});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||n.message||`Request failed ${t.status}`)}return await t.json()}v.register(he,me,ge,pe,fe,be,we,ye,ve,Ae,Se,Ee);class Be{constructor(){this.charts=new Map,this.init()}async init(){const e=document.getElementById("loading-screen");e&&e.classList.remove("d-none");try{const[t,n,s,i]=await Promise.all([y("/api/orders/stats"),y("/api/orders"),y("/api/users"),y("/api/shops")]),r=(n.orders||[]).reverse(),o=s.users||[],a=i.shops||[];this.updateStatsCards(t,o.length,a.length),this.revenueData=this.aggregateRevenue(r),this.userGrowthData=this.aggregateUserGrowth(o),this.orderStatusData=this.countOrderStatuses(r),this.recentOrdersData=r,this.recentActivities=this.generateRecentActivities(r,o,a)}catch(t){console.error("Lá»—i load dá»¯ liá»‡u â†’ dÃ¹ng máº«u",t),this.loadSampleData()}finally{e&&e.classList.add("d-none")}this.renderRevenueChart(),this.renderUserGrowthChart(),this.renderOrderStatusChart(),this.renderRecentOrdersTable(),this.renderRecentActivity()}updateStatsCards(e,t,n){const s=m=>Number(m||0).toLocaleString("vi-VN");document.getElementById("revenue-current").textContent=s(e.totalRevenue),document.getElementById("orders-current").textContent=s(e.totalOrders),document.getElementById("users-current").textContent=s(t),document.getElementById("shops-current").textContent=s(n);const i=e.previousRevenue?((e.totalRevenue-e.previousRevenue)/e.previousRevenue*100).toFixed(1):0,r=e.previousOrders?((e.totalOrders-e.previousOrders)/e.previousOrders*100).toFixed(1):0,o=document.getElementById("revenue-change");o.textContent=i>=0?`+${i}%`:`${i}%`,o.className=i>=0?"text-success":"text-danger";const a=document.getElementById("orders-change");a.textContent=r>=0?`+${r}%`:`${r}%`,a.className=r>=0?"text-success":"text-danger"}aggregateRevenue(e){const t={};e.forEach(s=>{const i=new Date(s.createdAt),r=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`;t[r]=(t[r]||0)+(s.total||0)});const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return Object.entries(t).sort(([s],[i])=>s.localeCompare(i)).slice(-12).map(([s,i])=>{const r=parseInt(s.split("-")[1])-1;return{month:n[r],revenue:i,profit:i*.3}})}aggregateUserGrowth(e){const t={},n=new Date;for(let s=29;s>=0;s--){const i=new Date(n);i.setDate(i.getDate()-s),t[i.toISOString().slice(0,10)]=0}return e.forEach(s=>{const i=new Date(s.createdAt).toISOString().slice(0,10);t.hasOwnProperty(i)&&t[i]++}),Object.entries(t).map(([s,i])=>({day:s.slice(5).replace("-","/"),newUsers:i}))}countOrderStatuses(e){const t={delivered:0,processing:0,shipping:0,arrived:0,cancelled:0,refund_pending:0,refunded:0};return e.forEach(n=>{switch(n.status){case"delivered":t.delivered++;break;case"processing":t.processing++;break;case"shipping":t.shipping++;break;case"arrived":t.arrived++;break;case"cancelled":t.cancelled++;break;case"refund_pending":t.refund_pending++;break;case"refunded":t.refunded++;break}}),t}getStatusBadge(e){return{delivered:{text:"HoÃ n thÃ nh",class:"bg-success"},processing:{text:"Äang xá»­ lÃ½",class:"bg-warning"},shipping:{text:"Äang giao",class:"bg-info"},arrived:{text:"ÄÃ£ Ä‘áº¿n",class:"bg-primary"},cancelled:{text:"ÄÃ£ há»§y",class:"bg-danger"},refund_pending:{text:"Chá» hoÃ n tiá»n",class:"bg-secondary"},refunded:{text:"ÄÃ£ hoÃ n tiá»n",class:"bg-dark"}}[e]||{text:e,class:"bg-secondary"}}generateRecentActivities(e,t,n){const s=[];return t.slice(0,5).forEach(i=>{s.push({icon:"bi-person-add",color:"text-success",text:`NgÆ°á»i dÃ¹ng má»›i: ${i.name||"KhÃ¡ch"}`,time:this.formatTime(i.createdAt)})}),e.slice(0,8).forEach(i=>{s.push({icon:"bi-bag-check",color:"text-primary",text:`ÄÆ¡n hÃ ng má»›i #${i._id.slice(-6).toUpperCase()} - ${i.user?.name||"KhÃ¡ch láº»"}`,time:this.formatTime(i.createdAt)})}),n.slice(0,3).forEach(i=>{s.push({icon:"bi-shop",color:"text-info",text:`Cá»­a hÃ ng má»›i: ${i.name}`,time:this.formatTime(i.createdAt)})}),s.sort((i,r)=>new Date(r.time)-new Date(i.time)).slice(0,15)}formatTime(e){const t=new Date,n=new Date(e),s=t-n,i=Math.floor(s/6e4),r=Math.floor(i/60),o=Math.floor(r/24);return i<60?`${i} phÃºt trÆ°á»›c`:r<24?`${r} giá» trÆ°á»›c`:`${o} ngÃ y trÆ°á»›c`}renderRevenueChart(){const e=document.getElementById("revenueChart");e&&new v(e,{type:"line",data:{labels:this.revenueData.map(t=>t.month),datasets:[{label:"Doanh thu",data:this.revenueData.map(t=>t.revenue),borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.1)",fill:!0,tension:.4},{label:"Lá»£i nhuáº­n",data:this.revenueData.map(t=>t.profit),borderColor:"#10b981",backgroundColor:"rgba(16,185,129,0.1)",fill:!0,tension:.4}]},options:{responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})}renderUserGrowthChart(){const e=document.getElementById("accountGrowthChart");e&&new v(e,{type:"bar",data:{labels:this.userGrowthData.map(t=>t.day),datasets:[{label:"NgÆ°á»i dÃ¹ng má»›i",data:this.userGrowthData.map(t=>t.newUsers),backgroundColor:"#6366f1"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}renderOrderStatusChart(){const e=document.getElementById("orderStatusChart");if(!e)return;const t=this.orderStatusData;new v(e,{type:"doughnut",data:{labels:["HoÃ n thÃ nh","Äang xá»­ lÃ½","Äang giao","ÄÃ£ Ä‘áº¿n","ÄÃ£ há»§y","Chá» hoÃ n tiá»n","ÄÃ£ hoÃ n tiá»n"],datasets:[{data:[t.delivered,t.processing,t.shipping,t.arrived,t.cancelled,t.refund_pending,t.refunded],backgroundColor:["#22c55e","#f59e0b","#3b82f6","#8b5cf6","#ef4444","#6b7280","#1f2937"]}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})}renderRecentOrdersTable(){const e=document.getElementById("recent-orders-table");e&&(e.innerHTML=this.recentOrdersData.length?this.recentOrdersData.map(t=>`
          <tr>
            <td><strong>${t._id.slice(-6).toUpperCase()}</strong></td>
            <td>${t.user?.name||"KhÃ¡ch láº»"}</td>
            <td>${(t.total||0).toLocaleString("vi-VN")}â‚«</td>
            <td><span class="badge ${this.getStatusBadge(t.status).class}">${this.getStatusBadge(t.status).text}</span></td>
            <td>${new Date(t.createdAt).toLocaleDateString("vi-VN")}</td>
          </tr>
        `).join(""):'<tr><td colspan="5" class="text-center py-5 text-muted">ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng</td></tr>')}renderRecentActivity(){const e=document.getElementById("recent-activity-list");e&&(e.innerHTML=this.recentActivities.map(t=>`
      <div class="d-flex align-items-center py-3 border-bottom px-3">
        <i class="bi ${t.icon} fs-4 ${t.color} me-3"></i>
        <div class="flex-grow-1">
          <p class="mb-1 small fw-medium">${t.text}</p>
          <small class="text-muted">${t.time}</small>
        </div>
      </div>
    `).join(""))}loadSampleData(){this.revenueData=this.generateRevenueData(),this.userGrowthData=this.generateUserGrowthData(),this.orderStatusData={delivered:1245,processing:156,shipping:89,arrived:45,cancelled:23,refund_pending:12,refunded:8},this.recentOrdersData=this.generateRecentOrders(),this.recentActivities=this.generateRecentActivities(this.recentOrdersData,[],[])}generateRevenueData(){}generateUserGrowthData(){}generateRecentOrders(){}destroy(){this.charts.forEach(e=>e?.destroy()),this.charts.clear()}}class Pe{constructor(){this.container=document.getElementById("toast-container")||this.createToastContainer(),this.defaultDuration=5e3,this.activeToasts=new Set,this.init()}init(){this.container||(this.container=this.createToastContainer()),this.configureSweetAlert()}createToastContainer(){const e=document.createElement("div");return e.id="toast-container",e.className="position-fixed top-0 end-0 p-3",e.style.zIndex="11",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),document.body.appendChild(e),e}configureSweetAlert(){d.mixin({customClass:{confirmButton:"btn btn-primary me-2",cancelButton:"btn btn-secondary",popup:"rounded-3 shadow-lg",title:"fs-4 fw-bold",content:"text-muted"},buttonsStyling:!1,reverseButtons:!0,focusConfirm:!1,allowOutsideClick:!0,allowEscapeKey:!0,showCloseButton:!0})}show(e,t="info",n={}){const s={message:e,type:t,duration:n.duration||this.defaultDuration,persistent:n.persistent||!1,action:n.action||null,icon:n.icon||this.getIconForType(t)},i=this.createToast(s);this.container.appendChild(i);const r=new k(i,{autohide:!s.persistent,delay:s.duration});return this.activeToasts.add(r),i.addEventListener("hidden.bs.toast",()=>{this.activeToasts.delete(r),i.remove()}),r.show(),r}createToast(e){const t=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n=document.createElement("div");n.className=`toast align-items-center text-bg-${e.type} border-0`,n.id=t,n.role="alert",n.setAttribute("aria-live","assertive"),n.setAttribute("aria-atomic","true");const s=e.persistent?"":`
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    `,i=e.action?`
      <button type="button" class="btn btn-sm btn-outline-light me-2" onclick="${e.action.handler}">
        ${e.action.text}
      </button>
    `:"";return n.innerHTML=`
      <div class="d-flex">
        <div class="toast-body d-flex align-items-center">
          <i class="${e.icon} me-2"></i>
          <span class="flex-grow-1">${e.message}</span>
          ${i}
        </div>
        ${s}
      </div>
    `,n}getIconForType(e){const t={success:"bi bi-check-circle-fill",error:"bi bi-exclamation-triangle-fill",warning:"bi bi-exclamation-triangle-fill",info:"bi bi-info-circle-fill",primary:"bi bi-info-circle-fill",secondary:"bi bi-info-circle-fill",danger:"bi bi-exclamation-triangle-fill",light:"bi bi-info-circle-fill",dark:"bi bi-info-circle-fill"};return t[e]||t.info}success(e,t={}){return this.show(e,"success",t)}error(e,t={}){return this.show(e,"danger",t)}warning(e,t={}){return this.show(e,"warning",t)}info(e,t={}){return this.show(e,"info",t)}async confirm(e={}){const t={title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, proceed",cancelButtonText:"Cancel"};return(await d.fire({...t,...e})).isConfirmed}async prompt(e={}){const t={title:"Enter value",input:"text",showCancelButton:!0,confirmButtonText:"Submit",cancelButtonText:"Cancel",inputValidator:s=>{if(!s)return"Please enter a value"}},n=await d.fire({...t,...e});return n.isConfirmed?n.value:null}async alert(e,t="info",n=""){const s={success:"success",error:"error",warning:"warning",info:"info"};await d.fire({title:n,text:e,icon:s[t]||"info",confirmButtonText:"OK"})}async showLoading(e="Loading..."){d.fire({title:e,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,willOpen:()=>{d.showLoading()}})}hideLoading(){d.close()}async showProgress(e,t){await d.fire({title:e,html:`
        <div class="progress mb-3">
          <div class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div id="progress-text">Starting...</div>
      `,allowOutsideClick:!1,showConfirmButton:!1,willOpen:()=>{const n=d.getHtmlContainer().querySelector(".progress-bar"),s=d.getHtmlContainer().querySelector("#progress-text");t&&typeof t=="function"&&t((i,r)=>{n.style.width=`${i}%`,n.setAttribute("aria-valuenow",i),r&&(s.textContent=r),i>=100&&setTimeout(()=>{d.close(),this.success("Operation completed successfully!")},500)})}})}clearAll(){this.activeToasts.forEach(e=>{e.hide()}),this.activeToasts.clear()}handleRealTimeNotification(e){const{type:t,message:n,priority:s="normal",persistent:i=!1}=e,r={persistent:s==="high"||i,duration:s==="high"?1e4:this.defaultDuration};s==="high"&&this.playNotificationSound(),this.show(n,t,r)}playNotificationSound(){const e=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBjiS2O/FeCkFKXnJ8N+PQAoSXrTp6qpTFAlEnt//wUfZBBmBzOvQDh8VHH/H7N4=");e.volume=.3,e.play().catch(()=>{})}addToActivityFeed(e){const t=document.querySelector(".activity-feed");if(!t)return;const n=document.createElement("div");n.className="activity-item",n.innerHTML=`
      <div class="activity-icon bg-${e.type} bg-opacity-10 text-${e.type}">
        <i class="${this.getIconForType(e.type)}"></i>
      </div>
      <div class="activity-content">
        <p class="mb-1">${e.message}</p>
        <small class="text-muted">Just now</small>
      </div>
    `,t.insertBefore(n,t.firstChild);const s=t.querySelectorAll(".activity-item");s.length>10&&s[s.length-1].remove()}async requestNotificationPermission(){return"Notification"in window?await Notification.requestPermission()==="granted":!1}showBrowserNotification(e,t={}){if("Notification"in window&&Notification.permission==="granted"){const n=new Notification(e,{icon:"/favicon.ico",badge:"/favicon.ico",...t});return setTimeout(()=>{n.close()},5e3),n}}}class E{constructor(){this.prefix="bi",this.icons=new Map,this.loadCommonIcons()}loadCommonIcons(){this.icons.set("dashboard","bi-speedometer2"),this.icons.set("users","bi-people"),this.icons.set("analytics","bi-graph-up"),this.icons.set("settings","bi-gear"),this.icons.set("notifications","bi-bell"),this.icons.set("search","bi-search"),this.icons.set("menu","bi-list"),this.icons.set("close","bi-x"),this.icons.set("check","bi-check"),this.icons.set("warning","bi-exclamation-triangle"),this.icons.set("info","bi-info-circle"),this.icons.set("success","bi-check-circle"),this.icons.set("error","bi-x-circle"),this.icons.set("arrow-up","bi-arrow-up"),this.icons.set("arrow-down","bi-arrow-down"),this.icons.set("plus","bi-plus"),this.icons.set("edit","bi-pencil"),this.icons.set("delete","bi-trash"),this.icons.set("download","bi-download"),this.icons.set("upload","bi-upload"),this.icons.set("home","bi-house"),this.icons.set("calendar","bi-calendar"),this.icons.set("clock","bi-clock"),this.icons.set("mail","bi-envelope"),this.icons.set("phone","bi-telephone"),this.icons.set("location","bi-geo-alt"),this.icons.set("heart","bi-heart"),this.icons.set("star","bi-star"),this.icons.set("bookmark","bi-bookmark"),this.icons.set("share","bi-share"),this.icons.set("copy","bi-clipboard"),this.icons.set("link","bi-link"),this.icons.set("external","bi-box-arrow-up-right"),this.icons.set("refresh","bi-arrow-clockwise"),this.icons.set("filter","bi-funnel"),this.icons.set("sort","bi-sort-down"),this.icons.set("grid","bi-grid"),this.icons.set("list","bi-list-ul"),this.icons.set("image","bi-image"),this.icons.set("file","bi-file-text"),this.icons.set("folder","bi-folder"),this.icons.set("eye","bi-eye"),this.icons.set("eye-slash","bi-eye-slash"),this.icons.set("lock","bi-lock"),this.icons.set("unlock","bi-unlock"),this.icons.set("user","bi-person"),this.icons.set("team","bi-people"),this.icons.set("crown","bi-crown"),this.icons.set("shield","bi-shield-check")}get(e,t="bi-question-circle"){return this.icons.get(e)||t}create(e,t="",n={}){const s=this.get(e),i=document.createElement("i");return i.className=`${s} ${t}`.trim(),Object.entries(n).forEach(([r,o])=>{i.setAttribute(r,o)}),i}createSVG(e,t=16,n=""){const s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("width",t),s.setAttribute("height",t),s.setAttribute("class",n),s.setAttribute("aria-hidden","true"),s}}class C{constructor(){this.icons=new Map,this.size=20,this.strokeWidth=2,this.loadLucideIcons()}async loadLucideIcons(){try{const e=await f(()=>import("./lucide-BHdLc77k.js"),[],import.meta.url).catch(()=>null);if(!e){console.info("Lucide icons not installed, using Bootstrap Icons only");return}const{BarChart3:t,Users:n,Settings:s,Bell:i,Search:r,Menu:o,X:a,Check:m,AlertTriangle:l,Info:h,CheckCircle:g,XCircle:u,ArrowUp:p,ArrowDown:b,Plus:x,Edit:I,Trash2:L,Download:B,Upload:P,Home:D,Calendar:O,Clock:$,Mail:_,Phone:M,MapPin:N,Heart:R,Star:F,Bookmark:q,Share:U,Copy:G,ExternalLink:H,RefreshCw:V,Filter:j,ArrowUpDown:z,Grid3X3:K,List:J,Image:Q,FileText:X,Folder:Z,Eye:W,EyeOff:Y,Lock:ee,Unlock:te,User:se,Crown:ie,Shield:ne}=e;this.icons.set("dashboard",t),this.icons.set("users",n),this.icons.set("settings",s),this.icons.set("notifications",i),this.icons.set("search",r),this.icons.set("menu",o),this.icons.set("close",a),this.icons.set("check",m),this.icons.set("warning",l),this.icons.set("info",h),this.icons.set("success",g),this.icons.set("error",u),this.icons.set("arrow-up",p),this.icons.set("arrow-down",b),this.icons.set("plus",x),this.icons.set("edit",I),this.icons.set("delete",L),this.icons.set("download",B),this.icons.set("upload",P),this.icons.set("home",D),this.icons.set("calendar",O),this.icons.set("clock",$),this.icons.set("mail",_),this.icons.set("phone",M),this.icons.set("location",N),this.icons.set("heart",R),this.icons.set("star",F),this.icons.set("bookmark",q),this.icons.set("share",U),this.icons.set("copy",G),this.icons.set("external",H),this.icons.set("refresh",V),this.icons.set("filter",j),this.icons.set("sort",z),this.icons.set("grid",K),this.icons.set("list",J),this.icons.set("image",Q),this.icons.set("file",X),this.icons.set("folder",Z),this.icons.set("eye",W),this.icons.set("eye-slash",Y),this.icons.set("lock",ee),this.icons.set("unlock",te),this.icons.set("user",se),this.icons.set("crown",ie),this.icons.set("shield",ne),console.info("âœ¨ Lucide icons loaded successfully")}catch{console.info("Lucide icons not available, falling back to Bootstrap Icons only")}}create(e,t={}){if(!this.icons.get(e))return console.warn(`Icon "${e}" not found in Lucide icons`),null;const{size:s=this.size,strokeWidth:i=this.strokeWidth,className:r="",color:o="currentColor"}=t,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",s),a.setAttribute("height",s),a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("fill","none"),a.setAttribute("stroke",o),a.setAttribute("stroke-width",i),a.setAttribute("stroke-linecap","round"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("class",`lucide lucide-${e} ${r}`.trim()),a.setAttribute("aria-hidden","true");const m=document.createElementNS("http://www.w3.org/2000/svg","path");return a.appendChild(m),a}}class De{constructor(e="bootstrap"){this.provider=e,this.manager=e==="lucide"?new C:new E}get(e){return this.manager.get?this.manager.get(e):e}create(e,t={}){if(this.provider==="lucide")return this.manager.create(e,t);{const{className:n="",...s}=t;return this.manager.create(e,n,s)}}replaceIcon(e,t,n={}){if(this.provider==="bootstrap"){const s=this.get(t);e.className=e.className.replace(/bi-[\w-]+/g,""),e.classList.add(s)}else{const s=this.create(t,n);s&&e.parentNode&&e.parentNode.replaceChild(s,e)}}preloadIcons(e=[]){e.forEach(t=>{this.create(t)})}switchProvider(e){this.provider=e,this.manager=e==="lucide"?new C:new E}}const A=new De("bootstrap");class Oe{constructor(){this.components=new Map,this.isInitialized=!1}async init(){if(!this.isInitialized)try{document.readyState==="loading"&&await new Promise(e=>{document.addEventListener("DOMContentLoaded",e)}),this.themeManager=new Te,this.notificationManager=new Pe,this.iconManager=A,this.iconManager.preloadIcons(["dashboard","users","analytics","settings","notifications","search","menu","check","warning","info","success","error"]),this.initBootstrapComponents(),await this.initPageComponents(),this.setupEventListeners(),this.initNavigation(),this.initTooltipsAndPopovers(),this.initAlpine(),this.isInitialized=!0,console.log("ðŸš€ Admin App initialized successfully"),this.notificationManager.show("Application loaded successfully!","success")}catch(e){console.error("âŒ Failed to initialize Admin App:",e)}}initBootstrapComponents(){document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(e=>{new re(e)}),document.querySelectorAll(".modal").forEach(e=>{new oe(e)}),document.querySelectorAll(".offcanvas").forEach(e=>{new ae(e)}),document.querySelectorAll('[data-bs-toggle="collapse"]').forEach(e=>{new ce(e)}),document.querySelectorAll('[data-bs-toggle="tab"]').forEach(e=>{new le(e)}),document.querySelectorAll(".toast").forEach(e=>{new k(e)})}initTooltipsAndPopovers(){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(e=>{new de(e)}),document.querySelectorAll('[data-bs-toggle="popover"]').forEach(e=>{new ue(e)})}async initPageComponents(){switch(document.body.dataset.page){case"dashboard":this.components.set("dashboard",new Be);break;case"users":await this.initUsersPage();break;case"analytics":await this.initAnalyticsPage();break;case"products":await this.initProductsPage();break;case"orders":await this.initOrdersPage();break;case"calendar":await this.initCalendarPage();break;case"settings":await this.initSettingsPage();break;default:console.log("Page-specific components loading complete")}}async initUsersPage(){try{await f(()=>import("./users-uPsv3qgf.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),console.log("ðŸ‘¥ Users page script loaded successfully")}catch(e){console.error("Failed to load users page script:",e)}}async initAnalyticsPage(){try{await f(()=>import("./analytics-CnO8MO6P.js"),[],import.meta.url),console.log("ðŸ“Š Analytics page script loaded successfully")}catch(e){console.error("Failed to load analytics page script:",e)}}async initProductsPage(){try{await f(()=>import("./products-BfHo_jch.js"),__vite__mapDeps([4,1,2,3]),import.meta.url),console.log("ðŸ“¦ Products page script loaded successfully")}catch(e){console.error("Failed to load products page script:",e)}}async initOrdersPage(){try{await f(()=>import("./orders-CkRgWqLP.js"),__vite__mapDeps([5,1,2,3]),import.meta.url),console.log("ðŸ›’ Orders page script loaded successfully")}catch(e){console.error("Failed to load orders page script:",e)}}async initCalendarPage(){try{await f(()=>import("./calendar-DQimwNyd.js"),__vite__mapDeps([6,1,2]),import.meta.url),console.log("ðŸ“… Calendar page script loaded successfully")}catch(e){console.error("Failed to load calendar page script:",e)}}async initSettingsPage(){try{await f(()=>import("./settings-CpLeVJq2.js"),__vite__mapDeps([7,1]),import.meta.url),console.log("âš™ï¸ Settings page script loaded successfully")}catch(e){console.error("Failed to load settings page script:",e)}}setupEventListeners(){document.addEventListener("click",e=>{e.target.matches("[data-theme-toggle]")&&this.themeManager.toggleTheme()}),document.addEventListener("click",e=>{e.target.closest("[data-fullscreen-toggle]")&&(e.preventDefault(),this.toggleFullscreen())}),document.addEventListener("keydown",e=>{this.handleKeyboardShortcuts(e)})}handleKeyboardShortcuts(e){if((e.ctrlKey||e.metaKey)&&e.key==="k"){e.preventDefault();const t=document.querySelector("[data-search-input]");t&&t.focus()}}async toggleFullscreen(){try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(e){console.error("Fullscreen toggle failed:",e)}}getComponent(e){return this.components.get(e)}initNavigation(){const e=window.location.pathname,n=["/elements","/elements-buttons.html","/elements-alerts.html","/elements-badges.html","/elements-cards.html","/elements-modals.html","/elements-forms.html","/elements-tables.html"].some(i=>e.includes(i.replace(".html","")));if(n){const i=document.getElementById("elementsSubmenu"),r=document.querySelector('[data-bs-target="#elementsSubmenu"]');if(i&&r){i.classList.add("show"),r.setAttribute("aria-expanded","true");const o=document.querySelector(`.nav-submenu a[href="${e}"]`);o&&o.classList.add("active")}}document.addEventListener("click",i=>{const r=i.target.closest('[data-bs-toggle="collapse"]');if(r){const o=r.getAttribute("data-bs-target"),a=r.getAttribute("aria-expanded")==="true";localStorage.setItem(`submenu-${o}`,(!a).toString())}}),document.querySelectorAll('[data-bs-toggle="collapse"]').forEach(i=>{const r=i.getAttribute("data-bs-target");if(localStorage.getItem(`submenu-${r}`)==="true"&&!n){const a=document.querySelector(r);a&&(a.classList.add("show"),i.setAttribute("aria-expanded","true"))}})}initAlpine(){w.data("searchComponent",()=>({query:"",results:[],isLoading:!1,async search(){if(this.query.length<2){this.results=[];return}this.isLoading=!0,await new Promise(e=>setTimeout(e,300)),this.results=[{title:"Dashboard",url:"/",type:"page"},{title:"Users",url:"/users",type:"page"},{title:"Settings",url:"/settings",type:"page"},{title:"Analytics",url:"/analytics",type:"page"}].filter(e=>e.title.toLowerCase().includes(this.query.toLowerCase())),this.isLoading=!1}})),w.data("statsCounter",(e=0,t=1)=>({value:e,init(){setInterval(()=>{this.value+=Math.floor(Math.random()*t)+1},5e3)}})),w.data("themeSwitch",()=>({currentTheme:"light",init(){this.currentTheme=localStorage.getItem("theme")||"light"},toggle(){this.currentTheme=this.currentTheme==="light"?"dark":"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}})),w.data("iconDemo",()=>({currentProvider:"bootstrap",switchProvider(e){this.currentProvider=e,A.switchProvider(e),console.log(`ðŸŽ¨ Switched to ${e} icons`)},getIcon(e){return A.get(e)}})),w.start(),window.Alpine=w}showDemoNotifications(){setTimeout(()=>{this.notificationManager.info("New user registered",{action:{text:"View",handler:'window.location.href="/users"'}})},3e3),setTimeout(()=>{this.notificationManager.warning("Server maintenance in 10 minutes")},6e3),setTimeout(()=>{this.notificationManager.success("Backup completed successfully")},9e3)}destroy(){this.components.forEach(e=>{e.destroy&&e.destroy()}),this.components.clear(),this.isInitialized=!1}}const T=new Oe;T.init();window.AdminApp=T;window.IconManager=A;export{y as g};
