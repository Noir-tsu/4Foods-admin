const n="http://localhost:5000",r=()=>localStorage.getItem("token"),s=()=>{const t=r();return t?{Authorization:`Bearer ${t}`}:{}};async function c(t,a={}){const e=await fetch(`${n}${t}`,{headers:{"Content-Type":"application/json",...s(),...a.headers},credentials:"include",...a});if(!e.ok){const o=await e.json().catch(()=>({}));throw new Error(o.error||o.message||`Request failed ${e.status}`)}return await e.json()}export{c as g};
